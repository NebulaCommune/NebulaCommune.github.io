<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ .Site.Title }}</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: "PingFang SC", "Microsoft YaHei", sans-serif;
            line-height: 1.8;
            color: #e0e0e0;
            /* æ·±ç©ºèƒŒæ™¯ */
            background: #050a20;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        /* æ˜Ÿç©ºèƒŒæ™¯ */
        #stars {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
        }

        /* èœå•æŒ‰é’® - å…¨å±€æ‚¬æµ® */
        .menu-btn {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: radial-gradient(circle, #7877c6 0%, #5a58a8 100%);
            border: none;
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
            box-shadow: 0 0 20px rgba(120,119,198,0.5);
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .menu-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 0 30px rgba(120,119,198,0.7);
        }

        /* å¯¼èˆªèœå•å¼¹çª— */
        .nav-menu {
            position: fixed;
            top: 80px;
            right: 20px;
            z-index: 999;
            width: 240px;
            background: rgba(10,14,39,0.95);
            backdrop-filter: blur(12px);
            border-radius: 16px;
            border: 1px solid rgba(120,119,198,0.3);
            box-shadow: 0 8px 32px rgba(0,0,0,0.3);
            padding: 20px;
            display: none;
            opacity: 0;
            transform: translateY(10px);
            transition: all 0.3s ease;
        }

        .nav-menu.active {
            display: block;
            opacity: 1;
            transform: translateY(0);
        }

        .nav-menu h3 {
            font-size: 1.2rem;
            background: linear-gradient(90deg, #7877c6, #ff77c6);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid rgba(120,119,198,0.2);
            text-align: center;
        }

        .nav-menu ul {
            list-style: none;
        }

        .nav-menu ul li {
            margin-bottom: 10px;
        }

        .nav-menu ul li a {
            color: #b0b0c0;
            text-decoration: none;
            font-size: 1rem;
            padding: 8px 12px;
            border-radius: 8px;
            display: block;
            transition: all 0.2s ease;
        }

        .nav-menu ul li a:hover,
        .nav-menu ul li a.active {
            background: rgba(120,119,198,0.2);
            color: #fff;
            transform: translateX(5px);
        }

        /* æ˜Ÿçƒç¯ç»•å®¹å™¨ - æ ¸å¿ƒå¸ƒå±€ */
        .nebula-container {
            position: relative;
            width: 100vw;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1;
        }

        /* ä¸­å¿ƒæ ‡é¢˜ */
        .center-title {
            position: absolute;
            z-index: 2;
            text-align: center;
        }

        .center-title h1 {
            font-size: 3rem;
            background: linear-gradient(90deg, #7877c6, #ff77c6, #77c6ff);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
            text-shadow: 0 0 20px rgba(120,119,198,0.3);
        }

        .center-title p {
            color: #a0a0c0;
            font-size: 1.1rem;
        }

        /* æ˜Ÿçƒè½¨é“ */
        .orbit {
            position: relative;
            width: 600px;
            height: 600px;
            border-radius: 50%;
            /* è½¨é“è¾…åŠ©çº¿ï¼ˆå¯é€‰ï¼‰ */
            /* border: 1px dashed rgba(120,119,198,0.2); */
        }

        /* æ˜Ÿçƒæ ·å¼ - å–æ¶ˆæ–¹æ¡†ï¼Œçº¯åœ†å½¢æ˜Ÿçƒ */
        .nebula-planet {
            position: absolute;
            width: 120px;
            height: 120px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            cursor: pointer;
            transition: all 0.4s ease;
            z-index: 3;
            /* å–æ¶ˆè¾¹æ¡†å’ŒèƒŒæ™¯æ¡† */
            background: none;
            border: none;
            box-shadow: none;
        }

        /* æ˜Ÿçƒæ ¸å¿ƒ - å¸¦å…‰æ™•çš„åœ†å½¢ */
        .planet-core {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: relative;
            box-shadow: 0 0 40px rgba(120,119,198,0.3);
            animation: planet-pulse 6s ease-in-out infinite alternate;
        }

        /* ä¸åŒæ˜Ÿçƒçš„å·®å¼‚åŒ–é¢œè‰² */
        #about .planet-core {
            background: radial-gradient(circle at 30% 30%, rgba(120,119,198,0.8) 0%, rgba(80,79,150,0.4) 100%);
        }

        #projects .planet-core {
            background: radial-gradient(circle at 30% 30%, rgba(255,119,198,0.8) 0%, rgba(180,80,140,0.4) 100%);
        }

        #community .planet-core {
            background: radial-gradient(circle at 30% 30%, rgba(119,200,255,0.8) 0%, rgba(80,140,180,0.4) 100%);
        }

        #contributors .planet-core {
            background: radial-gradient(circle at 30% 30%, rgba(119,255,198,0.8) 0%, rgba(80,180,140,0.4) 100%);
        }

        #links .planet-core {
            background: radial-gradient(circle at 30% 30%, rgba(255,200,119,0.8) 0%, rgba(180,140,80,0.4) 100%);
        }

        #join .planet-core {
            background: radial-gradient(circle at 30% 30%, rgba(200,119,255,0.8) 0%, rgba(140,80,180,0.4) 100%);
        }

        /* æ˜Ÿçƒå…‰æ™•åŠ¨ç”» */
        @keyframes planet-pulse {
            0% { transform: scale(1); box-shadow: 0 0 40px rgba(120,119,198,0.3); }
            100% { transform: scale(1.08); box-shadow: 0 0 60px rgba(120,119,198,0.5); }
        }

        /* æ˜Ÿçƒæ‚¬æµ®æ•ˆæœ */
        .nebula-planet:hover {
            transform: scale(1.15);
            z-index: 4;
        }

        /* æ˜Ÿçƒæ ‡é¢˜ - ç›´æ¥é•¶åµŒåœ¨æ˜Ÿçƒä¸Š */
        .planet-title {
            color: white;
            font-size: 1rem;
            font-weight: 600;
            text-shadow: 0 2px 4px rgba(0,0,0,0.5);
            pointer-events: none;
        }

        /* æ˜Ÿçƒç®€çŸ­æè¿° */
        .planet-brief {
            color: rgba(255,255,255,0.8);
            font-size: 0.75rem;
            margin-top: 5px;
            text-shadow: 0 1px 2px rgba(0,0,0,0.5);
            pointer-events: none;
        }

        /* æ˜Ÿçƒä½ç½®å¸ƒå±€ - 6ä¸ªæ˜Ÿçƒç¯ç»• */
        #about { top: 0; left: 50%; transform: translate(-50%, -50%); }
        #projects { top: 25%; right: 10%; transform: translate(50%, -50%); }
        #community { bottom: 25%; right: 10%; transform: translate(50%, 50%); }
        #contributors { bottom: 0; left: 50%; transform: translate(-50%, 50%); }
        #links { bottom: 25%; left: 10%; transform: translate(-50%, 50%); }
        #join { top: 25%; left: 10%; transform: translate(-50%, -50%); }

        /* æ˜Ÿçƒè¯¦æƒ…å¼¹çª— */
        .planet-detail {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(10,14,39,0.95);
            backdrop-filter: blur(12px);
            z-index: 100;
            display: none;
            align-items: center;
            justify-content: center;
            padding: 40px;
            overflow-y: auto;
        }

        .planet-detail.active {
            display: flex;
        }

        .detail-content {
            max-width: 800px;
            width: 100%;
            padding: 40px;
            border-radius: 24px;
            border: 1px solid rgba(120,119,198,0.3);
            background: rgba(10,14,39,0.8);
            box-shadow: 0 8px 40px rgba(0,0,0,0.5);
        }

        .detail-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid rgba(120,119,198,0.2);
        }

        .detail-header h2 {
            font-size: 2.2rem;
            background: linear-gradient(90deg, #7877c6, #ff77c6);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .close-detail {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: rgba(255,255,255,0.1);
            border: none;
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .close-detail:hover {
            background: rgba(255,255,255,0.2);
            transform: rotate(90deg);
        }

        /* è¯¦æƒ…å†…å®¹æ ·å¼ */
        .detail-body h3 {
            color: #d0d0e0;
            margin-bottom: 15px;
            font-size: 1.5rem;
        }

        .detail-body p,
        .detail-body li {
            color: #c0c0d0;
            margin-bottom: 12px;
            font-size: 1.1rem;
        }

        .project-grid, .links-grid, .contributor-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .project-card, .link-card, .contributor-card {
            padding: 20px;
            background: rgba(255,255,255,0.05);
            border-radius: 12px;
            border: 1px solid rgba(120,119,198,0.2);
            transition: all 0.3s ease;
        }

        .project-card:hover, .link-card:hover, .contributor-card:hover {
            transform: translateY(-5px);
            border-color: rgba(120,119,198,0.5);
        }

        .project-card a, .link-card a {
            color: #7877c6;
            font-weight: 600;
            text-decoration: none;
        }

        .project-card a:hover, .link-card a:hover {
            color: #ff77c6;
        }

        .project-desc, .link-desc {
            color: #a0a0c0;
            font-size: 0.95rem;
            margin-top: 10px;
        }

        .project-lang {
            display: inline-block;
            padding: 5px 10px;
            background: rgba(120,119,198,0.2);
            border-radius: 16px;
            font-size: 0.85rem;
            color: #c0c0e0;
            margin-top: 10px;
        }

        .contributor-avatar {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            margin: 0 auto 10px;
            object-fit: cover;
            border: 2px solid rgba(120,119,198,0.4);
        }

        .contributor-name {
            font-size: 1.1rem;
            font-weight: 600;
            color: #e0e0e0;
            text-align: center;
            margin-bottom: 5px;
        }

        .contributor-desc {
            font-size: 0.9rem;
            color: #a0a0c0;
            text-align: center;
            margin-bottom: 10px;
        }

        .contributor-github {
            display: block;
            color: #7877c6;
            font-size: 0.9rem;
            text-decoration: none;
            text-align: center;
        }

        .contributor-github:hover {
            color: #ff77c6;
        }

        .community-group {
            margin-bottom: 25px;
            padding: 20px;
            background: rgba(255,255,255,0.05);
            border-radius: 12px;
            border: 1px solid rgba(255,255,255,0.1);
        }

        /* åŠ è½½åŠ¨ç”» */
        .loading-spinner {
            display: inline-block;
            width: 40px;
            height: 40px;
            border: 4px solid rgba(120,119,198,0.2);
            border-radius: 50%;
            border-top-color: #7877c6;
            animation: spin 1s ease-in-out infinite;
            margin: 20px auto;
            display: block;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* ç§»åŠ¨ç«¯é€‚é… */
        @media (max-width: 768px) {
            /* ç¼©å°è½¨é“å’Œæ˜Ÿçƒå°ºå¯¸ */
            .orbit {
                width: 400px;
                height: 400px;
            }

            .nebula-planet {
                width: 90px;
                height: 90px;
            }

            .center-title h1 {
                font-size: 2rem;
            }

            .center-title p {
                font-size: 0.9rem;
            }

            .planet-title {
                font-size: 0.85rem;
            }

            .planet-brief {
                font-size: 0.65rem;
            }

            /* è°ƒæ•´æ˜Ÿçƒä½ç½® */
            #about { top: 0; left: 50%; }
            #projects { top: 20%; right: 5%; }
            #community { bottom: 20%; right: 5%; }
            #contributors { bottom: 0; left: 50%; }
            #links { bottom: 20%; left: 5%; }
            #join { top: 20%; left: 5%; }

            /* è¯¦æƒ…å¼¹çª—é€‚é… */
            .planet-detail {
                padding: 20px;
            }

            .detail-content {
                padding: 20px;
            }

            .detail-header h2 {
                font-size: 1.8rem;
            }

            /* å¯¼èˆªèœå•é€‚é… */
            .nav-menu {
                width: 200px;
                right: 10px;
            }

            .menu-btn {
                width: 45px;
                height: 45px;
                font-size: 1rem;
            }
        }

        @media (max-width: 480px) {
            .orbit {
                width: 300px;
                height: 300px;
            }

            .nebula-planet {
                width: 70px;
                height: 70px;
            }

            .planet-title {
                font-size: 0.75rem;
            }

            .planet-brief {
                display: none;
            }
        }
    </style>
</head>

<body>
    <!-- æ˜Ÿç©ºç²’å­èƒŒæ™¯ -->
    <canvas id="stars"></canvas>

    <!-- èœå•æŒ‰é’® -->
    <button class="menu-btn" id="menuBtn">â˜°</button>

    <!-- å¯¼èˆªèœå• -->
    <div class="nav-menu" id="navMenu">
        <h3>NebulaCommune</h3>
        <ul>
            <li><a data-target="about" class="nav-link">å…³äºæˆ‘ä»¬</a></li>
            <li><a data-target="projects" class="nav-link">æ ¸å¿ƒé¡¹ç›®</a></li>
            <li><a data-target="community" class="nav-link">ç¤¾åŒºç”Ÿæ€</a></li>
            <li><a data-target="contributors" class="nav-link">è´¡çŒ®è€…</a></li>
            <li><a data-target="links" class="nav-link">å‹æƒ…é“¾æ¥</a></li>
            <li><a data-target="join" class="nav-link">åŠ å…¥æˆ‘ä»¬</a></li>
        </ul>
    </div>

    <!-- æ˜Ÿçƒç¯ç»•å®¹å™¨ -->
    <div class="nebula-container">
        <!-- ä¸­å¿ƒæ ‡é¢˜ -->
        <div class="center-title">
            <h1>NebulaCommune</h1>
            <p>æ±‡èšæ˜Ÿå…‰ Â· å…±ç­‘æœªæ¥</p>
        </div>

        <!-- æ˜Ÿçƒè½¨é“ -->
        <div class="orbit">
            <!-- å…³äºæˆ‘ä»¬æ˜Ÿçƒ -->
            <div class="nebula-planet" id="about" data-target="about-detail">
                <div class="planet-core">
                    <div class="planet-title">å…³äºæˆ‘ä»¬</div>
                    <div class="planet-brief">å¼€æ”¾åŒ…å®¹çš„ç¤¾åŒº</div>
                </div>
            </div>

            <!-- æ ¸å¿ƒé¡¹ç›®æ˜Ÿçƒ -->
            <div class="nebula-planet" id="projects" data-target="projects-detail">
                <div class="planet-core">
                    <div class="planet-title">æ ¸å¿ƒé¡¹ç›®</div>
                    <div class="planet-brief">å…±å»ºå¼€æºæˆæœ</div>
                </div>
            </div>

            <!-- ç¤¾åŒºç”Ÿæ€æ˜Ÿçƒ -->
            <div class="nebula-planet" id="community" data-target="community-detail">
                <div class="planet-core">
                    <div class="planet-title">ç¤¾åŒºç”Ÿæ€</div>
                    <div class="planet-brief">è½»æ¾äº¤æµåä½œ</div>
                </div>
            </div>

            <!-- è´¡çŒ®è€…æ˜Ÿçƒ -->
            <div class="nebula-planet" id="contributors" data-target="contributors-detail">
                <div class="planet-core">
                    <div class="planet-title">è´¡çŒ®è€…</div>
                    <div class="planet-brief">æ„Ÿè°¢æ˜Ÿå…‰åŒè¡Œè€…</div>
                </div>
            </div>

            <!-- å‹æƒ…é“¾æ¥æ˜Ÿçƒ -->
            <div class="nebula-planet" id="links" data-target="links-detail">
                <div class="planet-core">
                    <div class="planet-title">å‹æƒ…é“¾æ¥</div>
                    <div class="planet-brief">è¿æ¥æŠ€æœ¯åŒå¥½</div>
                </div>
            </div>

            <!-- åŠ å…¥æˆ‘ä»¬æ˜Ÿçƒ -->
            <div class="nebula-planet" id="join" data-target="join-detail">
                <div class="planet-core">
                    <div class="planet-title">åŠ å…¥æˆ‘ä»¬</div>
                    <div class="planet-brief">ä¸æˆ‘ä»¬å…±æˆé•¿</div>
                </div>
            </div>
        </div>
    </div>

    <!-- å…³äºæˆ‘ä»¬è¯¦æƒ…å¼¹çª— -->
    <div class="planet-detail" id="about-detail">
        <div class="detail-content">
            <div class="detail-header">
                <h2>å…³äºæˆ‘ä»¬</h2>
                <button class="close-detail">Ã—</button>
            </div>
            <div class="detail-body">
                <p>æ˜Ÿéš…å…±å­¦ç¤¾åŒºï¼ˆNebulaCommuneï¼‰æ˜¯ä¸€ä¸ªå¼€æ”¾åŒ…å®¹çš„æŠ€æœ¯å­¦ä¹ ä¸åä½œç¤¾åŒºã€‚æˆ‘ä»¬ç›¸ä¿¡çŸ¥è¯†çš„ä»·å€¼åœ¨äºåˆ†äº«ä¸ç¢°æ’ï¼Œè‡´åŠ›äºä¸ºæ¯ä¸€ä½æˆå‘˜æä¾›ä¸€ä¸ªè‡ªç”±ã€äº’åŠ©çš„æˆé•¿ç©ºé—´ã€‚</p>
                <ul>
                    <li>æ ¸å¿ƒç†å¿µï¼šå¼€æ”¾åŒ…å®¹ï¼Œå…¼æ”¶å¹¶è“„ï¼Œå…±å­¦å…±è¿›</li>
                    <li>æ„¿æ™¯ï¼šæ±‡èšæ˜Ÿå…‰ï¼Œå…±ç­‘æœªæ¥</li>
                    <li>ä½¿å‘½ï¼šæ‰“é€ ä¸€ä¸ªå¤šå…ƒã€åä½œã€å¯æŒç»­çš„æŠ€æœ¯ç”Ÿæ€</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- æ ¸å¿ƒé¡¹ç›®è¯¦æƒ…å¼¹çª— -->
    <div class="planet-detail" id="projects-detail">
        <div class="detail-content">
            <div class="detail-header">
                <h2>æ ¸å¿ƒé¡¹ç›®</h2>
                <button class="close-detail">Ã—</button>
            </div>
            <div class="detail-body">
                <div class="project-grid">
                    {{ $apiUrl := .Site.Params.github_api_url }}
                    {{ $repos := slice }}
                    {{ if $apiUrl }}
                        {{ $resp := resources.GetRemote $apiUrl }}
                        {{ if $resp }}
                            {{ $repos = $resp | transform.Unmarshal }}
                        {{ else }}
                            {{ warnf "Failed to fetch GitHub repos: API URL is invalid or unreachable" }}
                        {{ end }}
                    {{ end }}
                    {{ if eq (len $repos) 0 }}
                        <p>æš‚æ— å…¬å¼€é¡¹ç›®ï¼Œæ•¬è¯·æœŸå¾…...</p>
                    {{ else }}
                        {{ range $repos }}
                            {{ if not .private }}
                            <div class="project-card">
                                <h3><a href="{{ .html_url }}" target="_blank">{{ .name }}</a></h3>
                                <p class="project-desc">{{ default "æš‚æ— ç®€ä»‹" .description }}</p>
                                <span class="project-lang">{{ default "æœªçŸ¥" .language }}</span>
                            </div>
                            {{ end }}
                        {{ end }}
                    {{ end }}
                </div>
            </div>
        </div>
    </div>

    <!-- ç¤¾åŒºç”Ÿæ€è¯¦æƒ…å¼¹çª— -->
    <div class="planet-detail" id="community-detail">
        <div class="detail-content">
            <div class="detail-header">
                <h2>ç¤¾åŒºç”Ÿæ€</h2>
                <button class="close-detail">Ã—</button>
            </div>
            <div class="detail-body">
                <div class="community-group">
                    <h3>ğŸ’¬ NebulaCommune æ°´ç¾¤</h3>
                    <p>æ—¥å¸¸äº¤æµã€èµ„æºå…±äº«ä¸ç”Ÿæ´»åˆ†äº«çš„è½»æ¾ç©ºé—´ã€‚</p>
                    <ul>
                        <li>è¯¾ç¨‹ä½œä¸šä¸æœŸæœ«å¤ä¹ ç»éªŒ</li>
                        <li>ç§‘ç ”/é¡¹ç›®ç»„é˜Ÿä¸æŠ€æœ¯é€‰å‹</li>
                        <li>å®ä¹ /æ ¡æ‹›é¢ç»ä¸å†…æ¨ä¿¡æ¯</li>
                        <li>å·¥å…·æ¨èä¸æ•ˆç‡æå‡æŠ€å·§</li>
                    </ul>
                </div>
                <div class="community-group">
                    <h3>ğŸ’¬ NebulaCommune æ ¸å¿ƒç¾¤</h3>
                    <p>æ ¸å¿ƒæˆå‘˜æ·±åº¦äº¤æµå¹³å°ï¼Œèšç„¦æŠ€æœ¯ã€é¡¹ç›®ä¸ç¤¾åŒºæ²»ç†ã€‚</p>
                </div>
            </div>
        </div>
    </div>

    <!-- è´¡çŒ®è€…è¯¦æƒ…å¼¹çª— -->
    <div class="planet-detail" id="contributors-detail">
        <div class="detail-content">
            <div class="detail-header">
                <h2>è´¡çŒ®è€…</h2>
                <button class="close-detail">Ã—</button>
            </div>
            <div class="detail-body">
                <p>æ„Ÿè°¢æ¯ä¸€ä½ä¸º NebulaCommune è´¡çŒ®åŠ›é‡çš„ä¼™ä¼´ âœ¨</p>
                <div class="contributor-grid" id="contributorGrid">
                    <div class="loading-spinner"></div>
                    <p style="text-align: center;">æ­£åœ¨åŠ è½½è´¡çŒ®è€…æ•°æ®...</p>
                </div>
            </div>
        </div>
    </div>

    <!-- å‹æƒ…é“¾æ¥è¯¦æƒ…å¼¹çª— -->
    <div class="planet-detail" id="links-detail">
        <div class="detail-content">
            <div class="detail-header">
                <h2>å‹æƒ…é“¾æ¥</h2>
                <button class="close-detail">Ã—</button>
            </div>
            <div class="detail-body">
                <div class="links-grid">
                    <div class="link-card">
                        <a href="https://duckweed-yhb.github.io/" target="_blank">Duckweed's Blog</a>
                        <p class="link-desc">ä¸ªäººæŠ€æœ¯åšå®¢ï¼Œåˆ†äº«å­¦ä¹ ä¸å®è·µå¿ƒå¾—</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- åŠ å…¥æˆ‘ä»¬è¯¦æƒ…å¼¹çª— -->
    <div class="planet-detail" id="join-detail">
        <div class="detail-content">
            <div class="detail-header">
                <h2>åŠ å…¥æˆ‘ä»¬</h2>
                <button class="close-detail">Ã—</button>
            </div>
            <div class="detail-body">
                <ol>
                    <li>è´¡çŒ®ä»£ç ï¼šFork é¡¹ç›®ï¼Œæäº¤ Pull Request</li>
                    <li>åˆ†äº«èµ„æºï¼šåœ¨ awesome-resources åˆ†äº«ä¼˜è´¨å†…å®¹</li>
                    <li>å‚ä¸è®¨è®ºï¼šåŠ å…¥å¾®ä¿¡ç¾¤ï¼Œä¸€èµ·å­¦ä¹ æˆé•¿</li>
                    <li>æå‡ºå»ºè®®ï¼šé€šè¿‡ Issue å‘Šè¯‰æˆ‘ä»¬ä½ çš„æƒ³æ³•</li>
                </ol>
            </div>
        </div>
    </div>

    <script>
        // ===================== å…¨å±€é…ç½® =====================
        const CONFIG = {
            orgName: 'NebulaCommune',
            cacheKeys: {
                contributors: 'nebula_contributors_cache',
                contributorsTime: 'nebula_contributors_cache_time'
            },
            apiBaseUrl: 'https://api.github.com',
            cacheExpireMs: 24 * 60 * 60 * 1000,
            batchSize: 5,
            requestTimeout: 10000,
            githubToken: ''
        };

        // ===================== å·¥å…·å‡½æ•° =====================
        const storage = {
            get: (key) => {
                try {
                    return localStorage.getItem(key);
                } catch (e) {
                    console.warn('æœ¬åœ°å­˜å‚¨ä¸å¯ç”¨:', e);
                    return null;
                }
            },
            set: (key, value) => {
                try {
                    localStorage.setItem(key, value);
                } catch (e) {
                    console.warn('æœ¬åœ°å­˜å‚¨ä¸å¯ç”¨:', e);
                }
            }
        };

        const fetchWithTimeout = (url, options = {}) => {
            return Promise.race([
                fetch(url, options),
                new Promise((_, reject) => 
                    setTimeout(() => reject(new Error('è¯·æ±‚è¶…æ—¶')), options.timeout || CONFIG.requestTimeout)
                )
            ]);
        };

        // ===================== æ˜Ÿç©ºç²’å­èƒŒæ™¯ =====================
        const canvas = document.getElementById('stars');
        const ctx = canvas.getContext?.('2d');
        let w, h;
        const starsArr = [];
        
        const isLowPerformance = navigator.hardwareConcurrency < 4 || window.innerWidth < 768;
        const starCount = isLowPerformance ? 150 : 400;

        class Star {
            constructor(){
                this.x = Math.random()*w;
                this.y = Math.random()*h;
                this.r = Math.random()*1.5;
                this.speed = Math.random()*0.2;
                this.alpha = Math.random();
            }
            draw(){
                if (!ctx) return;
                ctx.beginPath();
                ctx.arc(this.x,this.y,this.r,0,Math.PI*2);
                ctx.fillStyle = `rgba(255,255,255,${this.alpha})`;
                ctx.fill();
            }
            update(){
                this.y += this.speed;
                this.alpha = Math.sin(Date.now() * 0.001 + this.x * 0.1) * 0.5 + 0.5;
                if(this.y > h) this.y = 0;
                this.draw();
            }
        }

        function initStars(){
            if (!ctx) return;
            starsArr.length = 0;
            for(let i=0; i<starCount; i++) starsArr.push(new Star());
        }

        function animateStars(){
            if (!ctx) return;
            ctx.clearRect(0,0,w,h);
            starsArr.forEach(s=>s.update());
            requestAnimationFrame(animateStars);
        }

        try {
            w = canvas.width = window.innerWidth;
            h = canvas.height = window.innerHeight;
            initStars(); 
            animateStars();
        } catch (e) {
            console.error('æ˜Ÿç©ºç²’å­åˆå§‹åŒ–å¤±è´¥:', e);
            canvas.style.display = 'none';
        }

        window.onresize = ()=>{
            if (!ctx) return;
            w = canvas.width = window.innerWidth;
            h = canvas.height = window.innerHeight;
            initStars();
        };

        // ===================== èœå•æŒ‰é’®äº¤äº’ =====================
        const menuBtn = document.getElementById('menuBtn');
        const navMenu = document.getElementById('navMenu');
        const navLinks = document.querySelectorAll('.nav-link');

        // åˆ‡æ¢èœå•æ˜¾ç¤º/éšè—
        menuBtn.addEventListener('click', (e) => {
            e.stopPropagation();
            navMenu.classList.toggle('active');
        });

        // ç‚¹å‡»é¡µé¢å…¶ä»–åŒºåŸŸå…³é—­èœå•
        document.addEventListener('click', (e) => {
            if (!navMenu.contains(e.target) && e.target !== menuBtn) {
                navMenu.classList.remove('active');
            }
        });

        // ===================== æ˜Ÿçƒäº¤äº’ =====================
        const planets = document.querySelectorAll('.nebula-planet');
        const planetDetails = document.querySelectorAll('.planet-detail');
        const closeButtons = document.querySelectorAll('.close-detail');

        // ç‚¹å‡»æ˜Ÿçƒæ˜¾ç¤ºè¯¦æƒ…
        planets.forEach(planet => {
            planet.addEventListener('click', () => {
                const targetId = planet.getAttribute('data-target');
                showPlanetDetail(targetId);
                
                // æ›´æ–°å¯¼èˆªé«˜äº®
                updateNavActive(planet.id);
                
                // å…³é—­èœå•
                navMenu.classList.remove('active');
            });
        });

        // å¯¼èˆªé“¾æ¥ç‚¹å‡»æ˜¾ç¤ºå¯¹åº”æ˜Ÿçƒè¯¦æƒ…
        navLinks.forEach(link => {
            link.addEventListener('click', () => {
                const targetId = link.getAttribute('data-target');
                const planet = document.getElementById(targetId);
                if (planet) {
                    const detailId = planet.getAttribute('data-target');
                    showPlanetDetail(detailId);
                    updateNavActive(targetId);
                    navMenu.classList.remove('active');
                }
            });
        });

        // å…³é—­è¯¦æƒ…å¼¹çª—
        closeButtons.forEach(btn => {
            btn.addEventListener('click', () => {
                const detail = btn.closest('.planet-detail');
                detail.classList.remove('active');
                // æ¢å¤é¡µé¢æ»šåŠ¨
                document.body.style.overflow = '';
            });
        });

        // æ˜¾ç¤ºæ˜Ÿçƒè¯¦æƒ…
        function showPlanetDetail(detailId) {
            // éšè—æ‰€æœ‰è¯¦æƒ…
            planetDetails.forEach(detail => {
                detail.classList.remove('active');
            });
            
            // æ˜¾ç¤ºç›®æ ‡è¯¦æƒ…
            const targetDetail = document.getElementById(detailId);
            if (targetDetail) {
                targetDetail.classList.add('active');
                // ç¦æ­¢é¡µé¢æ»šåŠ¨
                document.body.style.overflow = 'hidden';
            }
        }

        // æ›´æ–°å¯¼èˆªé«˜äº®
        function updateNavActive(activeId) {
            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('data-target') === activeId) {
                    link.classList.add('active');
                }
            });
        }

        // ===================== è´¡çŒ®è€…æ•°æ®åŠ è½½ =====================
        async function fetchContributors() {
            const repoGrid = document.getElementById('contributorGrid');
            
            const cachedData = storage.get(CONFIG.cacheKeys.contributors);
            const cachedTime = storage.get(CONFIG.cacheKeys.contributorsTime);
            const now = Date.now();

            if (cachedData && cachedTime && (now - parseInt(cachedTime) < CONFIG.cacheExpireMs)) {
                const contributors = JSON.parse(cachedData);
                renderContributors(contributors);
                return;
            }

            const requestOptions = {
                method: 'GET',
                headers: {
                    'Accept': 'application/vnd.github.v3+json'
                },
                timeout: CONFIG.requestTimeout
            };

            if (CONFIG.githubToken) {
                requestOptions.headers['Authorization'] = `token ${CONFIG.githubToken}`;
            }

            try {
                const reposResp = await fetchWithTimeout(
                    `${CONFIG.apiBaseUrl}/orgs/${CONFIG.orgName}/repos`, 
                    requestOptions
                );
                
                if (!reposResp.ok) throw new Error(`GitHub API é”™è¯¯: ${reposResp.status}`);
                const repos = await reposResp.json();

                const contributorsMap = new Map();
                const publicRepos = repos.filter(repo => !repo.private);

                for (let i = 0; i < publicRepos.length; i += CONFIG.batchSize) {
                    const batch = publicRepos.slice(i, i + CONFIG.batchSize);
                    const batchPromises = batch.map(repo => 
                        fetchWithTimeout(`${CONFIG.apiBaseUrl}/repos/${CONFIG.orgName}/${repo.name}/contributors`, requestOptions)
                            .then(resp => resp.ok ? resp.json() : [])
                            .catch(() => [])
                    );

                    const batchResults = await Promise.all(batchPromises);
                    
                    batchResults.forEach((contribs, idx) => {
                        const repo = batch[idx];
                        contribs.forEach(c => {
                            if (contributorsMap.has(c.login)) {
                                contributorsMap.get(c.login).repos.push(repo.name);
                            } else {
                                contributorsMap.set(c.login, {
                                    login: c.login,
                                    avatar: c.avatar_url,
                                    html_url: c.html_url,
                                    repos: [repo.name],
                                    contributions: c.contributions
                                });
                            }
                        });
                    });
                }

                const contributors = Array.from(contributorsMap.values());
                storage.set(CONFIG.cacheKeys.contributors, JSON.stringify(contributors));
                storage.set(CONFIG.cacheKeys.contributorsTime, now.toString());
                renderContributors(contributors);

            } catch (err) {
                console.error('è·å–è´¡çŒ®è€…å¤±è´¥:', err);
                repoGrid.innerHTML = `
                    <div class="contributor-card">
                        <img class="contributor-avatar" src="https://picsum.photos/70/70" alt="é»˜è®¤å¤´åƒ">
                        <div class="contributor-name">åŠ è½½å¤±è´¥</div>
                        <div class="contributor-desc">è¯·ç¨ååˆ·æ–°é¡µé¢</div>
                        <a class="contributor-github" href="https://github.com/${CONFIG.orgName}" target="_blank">æŸ¥çœ‹ç»„ç»‡</a>
                    </div>
                `;
            }
        }

        function renderContributors(contributors) {
            const repoGrid = document.getElementById('contributorGrid');
            repoGrid.innerHTML = '';

            if (contributors.length === 0) {
                repoGrid.innerHTML = '<p style="text-align: center;">æš‚æ— è´¡çŒ®è€…ï¼ŒæœŸå¾…ä½ çš„åŠ å…¥ âœ¨</p>';
                return;
            }

            contributors.forEach(c => {
                const card = document.createElement('div');
                card.className = 'contributor-card';
                
                card.innerHTML = `
                    <img class="contributor-avatar" 
                         src="https://picsum.photos/70/70" 
                         data-src="${c.avatar}" 
                         alt="${c.login}" 
                         loading="lazy">
                    <div class="contributor-name">${c.login}</div>
                    <div class="contributor-desc">å‚ä¸äº† ${c.repos.length} ä¸ªä»“åº“</div>
                    <a class="contributor-github" href="${c.html_url}" target="_blank">GitHub</a>
                `;
                
                const img = card.querySelector('img');
                img.onload = () => {
                    img.src = img.dataset.src;
                };

                repoGrid.appendChild(card);
            });
        }

        // é¡µé¢åŠ è½½å®Œæˆåæ‹‰å–è´¡çŒ®è€…
        window.addEventListener('load', () => {
            fetchContributors();
        });
    </script>
</body>
</html>